<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width: 600px;height:400px;"></div>
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        let bgColor = '#fff';
        let bdColor = 'rgba(23, 47, 109, 0.5)';
        let scale = 1;
        var option;
        var echartData = [{
                name: '宏表情范式',
                value: '272',
                unit: '次',
                desc: '测试次数',
                selected: true
            }, {
                name: '渐变范式',
                value: '292',
                unit: '次',
                desc: '测试次数',
            }, {
                name: '点探测范式',
                value: '120',
                unit: '次',
                desc: '测试次数',
            }, {
                name: 'Stroop范式',
                value: '42',
                unit: '次',
                desc: '测试次数',
            },{
                name: '短暂识别',
                value: '42',
                unit: '次',
                desc: '测试次数',
            }];



    function newOption(){
        option = {
            backgroundColor: bgColor,
            color: ['#2AC9FD', '#9AB321', '#35C96E', '#FCC708', '#99ABA5', '#5957C2', '#4A5D73'],
            <!--title:{-->
                <!--text: '测试次数',-->
                <!--fontSize: 20,-->
                <!--left: '0.5%',-->
                <!--top: '0.5%'-->
            <!--},-->

    series: [{
        type: 'pie',
        radius: ['0', '60%'],
        selectedMode: 'single',
        selectedOffset: 10,
        labelLine: {
            normal: {
                length: 25,
                length2: 120,
                lineStyle: {
                    type: 'solid'
                }
            }
        },
        label: {
            normal: {
                formatter: (params) => {
                    let desc = params.data.desc || '';
                    let unit = params.data.unit || '';
                    return '{a|' + params.name + '}\n{a|'  + params.value + unit + ' ' + params.percent + '%}'
                },
                padding: [0, -100],
                height: 80,
                rich: {
                    a: {
                        color: 'auto',
                        fontSize: 20 * scale,
                        height: 20 * scale,
                        align: 'center'
                    }
                },
            },
        },
        data: echartData,
    }]
};

        }


        //适应屏幕
        setTimeout(function (){
	    window.onresize = function () {
	    	twChart.resize();
	    }
	},200)

    function createChart(data){
        myChart.showLoading({
                text : '图表加载中...'
            });
            for(var i=0;i<echartData.length;i++){
                echartData[i].value=data[i].count;
            }
            newOption();
            myChart.setOption(option);
            myChart.hideLoading();
    }

</script>
</body>
</html>